# 🚀 Mo'edim Deployment Guide

## ✅ Current Status: Ready to Deploy!

Your Mo'edim platform is now:
- ✅ **Code Committed**: All 78 files, 24,139 lines of code
- ✅ **GitHub Repository**: https://github.com/mrterryt40/moedim
- ✅ **Local Testing**: API and mobile app working
- ✅ **CI/CD Pipeline**: GitHub Actions configured

## 🚂 Step 1: Deploy Backend API to Railway

### Quick Setup:
1. **Go to**: [railway.app](https://railway.app)
2. **Sign up/Login** with GitHub
3. **New Project** → **Deploy from GitHub repo**
4. **Select**: `mrterryt40/moedim`

### Configuration:
```bash
# Service Settings
Root Directory: apps/api
Build Command: npm run build
Start Command: npm run start:prod
Port: 3000
```

### Environment Variables:
```bash
DATABASE_URL=<auto-generated-by-railway>
JWT_SECRET=moedim-super-secret-jwt-key-production
NODE_ENV=production
CORS_ORIGIN=*
```

### Add PostgreSQL Database:
- In Railway dashboard: **"+ New"** → **"Database"** → **"PostgreSQL"**
- Railway auto-connects DATABASE_URL

**Expected Result**: API available at `https://your-app.railway.app`

---

## ⚡ Step 2: Deploy Frontend to Vercel

### Quick Setup:
1. **Go to**: [vercel.com](https://vercel.com)
2. **Sign up/Login** with GitHub
3. **Import Project** → **Git Repository**
4. **Select**: `mrterryt40/moedim`

### Configuration:
```bash
# Project Settings
Framework Preset: Other
Root Directory: . (keep as root)
Build Command: npm run build:web
Output Directory: apps/web/dist
Install Command: npm install
```

### Environment Variables:
```bash
NEXT_PUBLIC_API_URL=<your-railway-api-url>
NODE_ENV=production
```

**Expected Result**: Web app available at `https://moedim.vercel.app`

---

## 📱 Step 3: Test Mobile App with Production API

### Update Mobile App API URL:
```typescript
// In apps/mobile/src/screens/DailyTorahScreen.tsx
// Change from:
const response = await fetch('http://localhost:3000/torah/daily');

// To:
const response = await fetch('https://your-app.railway.app/torah/daily');
```

### Test Production Connection:
```bash
# Test API endpoints
curl https://your-app.railway.app/torah/daily
curl https://your-app.railway.app/torah/portions
```

---

## 🔧 Step 4: Configure Production Database

### Run Database Migrations:
1. **In Railway dashboard**: Open your PostgreSQL service
2. **Connect**: Use Railway's built-in terminal or connect locally
3. **Run migrations**:
   ```bash
   # Set DATABASE_URL from Railway
   npx prisma migrate deploy
   npx prisma db seed # If you have seed data
   ```

---

## ✅ Deployment Checklist

### Railway (Backend):
- [ ] Project created and connected to GitHub
- [ ] PostgreSQL database added
- [ ] Environment variables configured
- [ ] API responding at railway.app URL
- [ ] Database migrations run
- [ ] `/torah/daily` endpoint working

### Vercel (Frontend):
- [ ] Project imported from GitHub
- [ ] Build configuration set
- [ ] Environment variables added
- [ ] Deployment successful
- [ ] Web app accessible

### Mobile App:
- [ ] API URL updated to production
- [ ] Mobile app connecting to production API
- [ ] Torah screen loading data
- [ ] Expo dev server working with production backend

---

## 🚀 Post-Deployment Testing

### API Endpoints to Test:
```bash
curl https://your-app.railway.app/
curl https://your-app.railway.app/torah/daily
curl https://your-app.railway.app/torah/portions
curl https://your-app.railway.app/hebrew/cards
```

### Mobile App Features to Test:
- [ ] Daily Torah screen loads
- [ ] Hebrew/English toggle works
- [ ] Shabbat detection shows correctly
- [ ] Mark as read button functions
- [ ] Hebrew date displays properly

---

## 🎯 Expected Results

### Production URLs:
- **API**: `https://moedim-api.railway.app`
- **Web**: `https://moedim.vercel.app`
- **Mobile**: Expo app connecting to production API
- **GitHub**: `https://github.com/mrterryt40/moedim`

### Working Features:
- ✅ Daily Torah API with Hebrew calendar
- ✅ Mobile Torah reading screen
- ✅ Database with Prisma ORM
- ✅ Docker development environment
- ✅ CI/CD pipeline via GitHub Actions

---

## 🔗 Useful Commands

### Local Development:
```bash
docker-compose up -d    # Start local services
npm run dev            # Start API + mobile
npm run db:studio      # Open database admin
```

### Deployment:
```bash
git push origin main   # Triggers auto-deployment
railway logs           # View Railway logs
vercel logs            # View Vercel logs
```

### Testing:
```bash
curl localhost:3000/torah/daily         # Local API
curl your-app.railway.app/torah/daily   # Production API
```

---

## 🎉 You're Ready to Deploy!

Mo'edim has a **complete production-ready architecture**:
- Professional NestJS backend
- React Native mobile app
- Smart contracts ready
- CI/CD pipeline configured
- Database schema designed

**Next**: Follow the steps above to deploy to Railway and Vercel, then start building more features!

**The Israelite community is waiting for Mo'edim! 🏛️📱✨**